<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Distributional Inference · Omega.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Omega.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><a class="toctext" href="../basictutorial/">Basic Tutorial</a></li><li><a class="toctext" href="../model/">Modeling</a></li><li><a class="toctext" href="../conditionalindependence/">(Conditional) Independence</a></li><li><a class="toctext" href="../inference/">Conditional Inference</a></li><li><a class="toctext" href="../soft/">Soft Execution</a></li><li><span class="toctext">Inference Algorithms</span><ul><li><a class="toctext" href="../inferencealgorithms/">Sampling Algorithms</a></li><li><a class="toctext" href="../callbacks/">Callbacks</a></li></ul></li><li><span class="toctext">Causal Inference</span><ul><li><a class="toctext" href="../causal/">Causal Inference</a></li><li><a class="toctext" href="../basiccausal/">Tutorial</a></li><li><a class="toctext" href="../correspondence/">Preservation</a></li></ul></li><li class="current"><a class="toctext" href>Distributional Inference</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#Random-Distributional-Properties-1">Random Distributional Properties</a></li><li><a class="toctext" href="#Random-Conditional-Distribution-1">Random Conditional Distribution</a></li><li><a class="toctext" href="#Random-Interventional-Distribution-1">Random Interventional Distribution</a></li><li><a class="toctext" href="#rcd-or-rid?-1">rcd or rid?</a></li></ul></li><li><a class="toctext" href="../distributions/">Built-in Distributions</a></li><li><a class="toctext" href="../cheatsheet/">Cheat Sheet</a></li><li><a class="toctext" href="../faq/">FAQ</a></li><li><a class="toctext" href="../performance/">Performance Tips</a></li><li><span class="toctext">Internals</span><ul><li><a class="toctext" href="../internalsoverview/">Overview</a></li><li><a class="toctext" href="../omega/">Ω</a></li><li><a class="toctext" href="../randvar/">RandVar</a></li></ul></li><li><a class="toctext" href="../contrib/">Contribution Guide</a></li><li><a class="toctext" href="../omegavsotherppls/">Omega vs other PPLs</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Distributional Inference</a></li></ul><a class="edit-page" href="https://github.com/zenna/Omega.jl/blob/master/docs/src/higher.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Distributional Inference</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Distributional-Inference-1" href="#Distributional-Inference-1">Distributional Inference</a></h1><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p><strong>TLDR</strong>: Omega allows you to turn a distributional property (e.g. <code>mean</code>, <code>var</code>, <code>kurtosis</code>), from a concrete value (e.g. a <code>Float64</code>) into a <code>RandVar</code>.  These <code>RandVar</code>s can then be conditioned.</p><p>Use either <code>rcd</code>, <code>rcdₛ</code> or <code>rid</code>.</p><pre><code class="language-">rcd
rid
rcdₛ</code></pre><p><code>rid</code> are <code>rcd</code> are equivlaet in some cases. <code>rid</code> is much more efficient, so use that if possible. If they are not equivlanet and you must use <code>rcd</code>, it&#39;s likely you will want to use the <code>rcdₛ</code> which uses soft equality [ref]</p></div></div><p>Since this is a new concept, it requires some explanation.</p><h1><a class="nav-anchor" id="Random-Distributional-Properties-1" href="#Random-Distributional-Properties-1">Random Distributional Properties</a></h1><p>Distributional properties are fixed (often real) values, but in a sense they are random variables too. For example, rainfall depends on temperature, the season, the presence of clouds, and so on. With respect to a model, expected rainfall is a real value, but it changes if we obtain new information. For example it rises if we observe clouds and falls to zero if we observe their absence. These two expectations becomes a random variable over expectations – a conditional expectation – when we take into account the probabilities of the presence or absence of clouds. Moreover, for each random variable in the model there is a corresponding conditional expectation. For instance, with respect to the season, conditional expected rainfall is a random variable over four expectations, one for each season; with respect to temperature it is a continuous distribution. These conditional expectations capture the uncertainty over expected rainfall that results from other variables in the model, whereas the unconditional expected rainfall averages all the uncertainty away.</p><p>Omega has a number of mechanisms to automatically capture the uncertainty over any distributional property.  It is based on a new concept called the random conditional distribution.</p><h2><a class="nav-anchor" id="Random-Conditional-Distribution-1" href="#Random-Conditional-Distribution-1">Random Conditional Distribution</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Omega.Higher.rcd" href="#Omega.Higher.rcd"><code>Omega.Higher.rcd</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">rcd(x, θ)
rcd(x, θ, eq)
</code></pre><p>Random Conditional Distribution of <code>x</code> given <code>Θ</code>.</p><p>Random conditional distributions provide a mechanism to condition distributional properties. Given two random variables <span>$X$</span> and <span>$Θ$</span>, the random conditional distribution of <span>$X$</span> given <span>$Θ$</span> – which we denote <span>$X ∥ Θ$</span> – is a a random distribution: a random variable whose <code>elemtype</code> is a random variables. In particular, each realization of <span>$X ∥ Θ$</span> is the random variable <span>$X$</span> conditioned on <span>$Θ = θ$</span> where <span>$θ ∼ Θ$</span> is a realization of <span>$Θ$</span>:</p><p>The random conditional distribution (rcd) of a random variable <span>$X: Ω → τ_1$</span> given <span>$Θ: Ω → τ_2$</span> is a random variable <span>$X ∥ Θ:  Ω → ( Ω → τ_1)$</span>, defined as:</p><p><span>$(x ∥ θ) = ω -&gt; x | (Θ = Θ(ω))$</span></p></div></div><a class="source-link" target="_blank" href="https://github.com/zenna/Omega.jl/blob/1b2f926937cb749d2c6ec68eaaa3a4c3337417ce/src/higher/rcd.jl#L1">source</a></section><h2><a class="nav-anchor" id="Random-Interventional-Distribution-1" href="#Random-Interventional-Distribution-1">Random Interventional Distribution</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Omega.Higher.rid" href="#Omega.Higher.rid"><code>Omega.Higher.rid</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">rid(x, θ)
</code></pre><p>Random Interventional Distribution of <code>x</code> given <code>Θ</code></p><pre><code class="language-julia">μ = uniform([-100.0, 100.0])
x = normal(μ, 1.0)
x_ = rid(x, μ)
mean(x_)</code></pre><p>Given two random variables <span>$X$</span> and <span>$Θ$</span>, the random interventional distribution of <span>$X$</span> given <span>$Θ$</span> is a a random distribution (<code>RandVar</code> with <code>elemtype</code> <code>RandVar</code>). In particular, each realization of <span>$rid(X, Θ)$</span> is the random variable <span>$X$</span> subject to the intervention <span>$Θ = Θ$</span> where <span>$Θ ∼ Θ$</span> is a realization of <span>$Θ$</span>:</p><p>The random interventional distribution of a random variable <code>X</code> with elem type <code>tau_1</code> given <span>$Θ: Ω → τ_2$</span> is a random variable <span>$x ∥ do(θ): Ω → (Ω →  τ_1)$</span>, defined as:</p><p><span>$x ∥ do(θ) = ω → x | do(θ = θ(ω))$</span></p></div></div><a class="source-link" target="_blank" href="https://github.com/zenna/Omega.jl/blob/1b2f926937cb749d2c6ec68eaaa3a4c3337417ce/src/higher/rid.jl#L1">source</a></section><h2><a class="nav-anchor" id="rcd-or-rid?-1" href="#rcd-or-rid?-1">rcd or rid?</a></h2><p>In many cases <code>rcd</code> and <code>rid</code> are equivalent.  In these cases you should prefer <code>rid</code>, since it is much more efficient.  The conditions with which they are equivalent are a bit subtle.</p><footer><hr/><a class="previous" href="../correspondence/"><span class="direction">Previous</span><span class="title">Preservation</span></a><a class="next" href="../distributions/"><span class="direction">Next</span><span class="title">Built-in Distributions</span></a></footer></article></body></html>
